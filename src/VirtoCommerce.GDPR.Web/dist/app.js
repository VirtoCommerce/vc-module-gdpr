(()=>{var e;e="virtoCommerce.gdpr",void 0!==AppDependencies&&AppDependencies.push(e),angular.module(e,[]).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("workspace.gdpr",{url:"/GDPR",templateUrl:"$(Platform)/Scripts/common/templates/home.tpl.html",controller:["$scope","platformWebApp.bladeNavigationService",function(e,t){t.showBlade({id:"gdprMain",currentEntity:{id:null},controller:"virtoCommerce.gdpr.gdprMainController",template:"Modules/$(VirtoCommerce.GDPR)/Scripts/blades/gdpr-main.tpl.html",isClosingDisabled:!0})}]})}]).run(["platformWebApp.mainMenuService","platformWebApp.widgetService","$state",function(e,t,r){var o={path:"browse/GDPR",icon:"fas fa-key",title:"GDPR",priority:100,action:function(){r.go("workspace.gdpr")},permission:"GDPR:access"};e.addMenuItem(o)}]),angular.module("virtoCommerce.gdpr").controller("virtoCommerce.gdpr.contactDetailController",["$scope","platformWebApp.dialogService","virtoCommerce.gdpr.webApi",function(e,t,r){var o,i=e.blade;i.headIcon="fas fa-address-card",i.toolbarCommands=[{name:"gdpr.blades.contact-detail.commands.remove.label",icon:"fas fa-eraser",executeMethod:function(){var o={id:"confirmDelete",title:"gdpr.blades.contact-detail.commands.remove.message.title",message:"gdpr.blades.contact-detail.commands.remove.message.text",callback:function(t){t&&(i.isLoading=!0,r.delete({id:i.currentEntityId},(function(){e.bladeClose(),i.parentBlade.refresh()})))}};t.showConfirmationDialog(o)},canExecuteMethod:function(){return!0},permission:"virtoCommerce.gdpr:delete"}],o=i.currentEntity,i.currentEntity=angular.copy(o),i.origEntity=o,i.isLoading=!1}]),angular.module("virtoCommerce.gdpr").controller("virtoCommerce.gdpr.contactListController",["$scope","virtoCommerce.gdpr.webApi","platformWebApp.bladeUtils","platformWebApp.uiGridHelper","platformWebApp.ui-grid.extension","platformWebApp.angularToMomentFormatConverter",function(e,t,r,o,i,a){e.uiGridConstants=o.uiGridConstants;var n=e.blade;n.title="gdpr.blades.contact-list.title",n.headIcon="fas fa-user-friends";var l=r.bladeNavigationService;n.refresh=function(r){n.isLoading=!0;var i={memberType:"Contact",memberId:n.currentEntity.id,keyword:n.searchKeyword,deepSearch:!!n.searchKeyword,sort:o.getSortExpression(e),skip:(e.pageSettings.currentPage-1)*e.pageSettings.itemsPerPageCount,take:e.pageSettings.itemsPerPageCount,objectType:"Member"};n.searchCriteria&&angular.extend(i,n.searchCriteria),t.search(i,(function(t){n.isLoading=!1,e.pageSettings.totalItems=t.totalCount,Array.isArray(t.results)&&t.results.length&&(_.each(t.results,(function(e){if(e.securityAccounts[0]?(e.email=e.securityAccounts[0].email??"",e.login=e.securityAccounts[0].userName??""):(e.email="",e.login=""),e.birthDate){const t=["January","February","March","April","May","June","July","August","September","October","November","December"],r=new Date(e.birthDate);e.birthday=t[r.getMonth()]+" "+r.getDate()+", "+r.getFullYear()}else e.birthday=""})),t.results[0].outerId||(t.results[0].outerId=null)),e.listEntries=t.results?t.results:[]})),r&&n.parentRefresh&&n.parentRefresh()},e.selectNode=function(t){e.selectedNodeId=t.id;var r={id:"contactDetail",currentEntityId:t.id,currentEntity:t,title:t.fullName,subtitle:"gdpr.blades.contact-detail.subtitle",controller:"virtoCommerce.gdpr.contactDetailController",template:"modules/$(VirtoCommerce.GDPR)/Scripts/blades/contact-detail.tpl.html"};l.showBlade(r,n)},n.toolbarCommands=[{name:"platform.commands.refresh",icon:"fa fa-refresh",executeMethod:n.refresh,canExecuteMethod:function(){return!0}}],e.setGridOptions=function(t,o){e.gridOptions=o,i.tryExtendGridOptions(t,o),o.onRegisterApi=function(t){e.gridApi=t,t.core.on.sortChanged(e,(function(){n.isLoading||n.refresh()}))},r.initializePagination(e)},e.clearKeyword=function(){n.searchKeyword=null,n.refresh()}}]),angular.module("virtoCommerce.gdpr").controller("virtoCommerce.gdpr.gdprMainController",["$scope","platformWebApp.dialogService","platformWebApp.bladeUtils","platformWebApp.uiGridHelper","virtoCommerce.customerModule.memberTypesResolverService","platformWebApp.ui-grid.extension",function(e,t,r,o,i,a){e.selectedNodeId=null;var n=e.blade;n.title="gdpr.blades.main-title",n.subtitle="gdpr.blades.main-subtitle",n.headIcon="fas fa-key";var l,c=r.bladeNavigationService;n.openBlade=function(t){e.selectedNodeId=t.id,c.showBlade({id:"contactList",currentEntity:{id:null},title:"gdpr.blades.contact-list.title",controller:"virtoCommerce.gdpr.contactListController",template:"Modules/$(VirtoCommerce.GDPR)/Scripts/blades/contact-list.tpl.html"},n)},l=[{id:1,entityName:"customers",name:"Customers",icon:"fas fa-user"}],n.currentEntities=l,n.isLoading=!1,n.openBlade(l[0])}]),angular.module("virtoCommerce.gdpr").factory("virtoCommerce.gdpr.webApi",["$resource",function(e){return e("api/gdpr",{},{search:{method:"POST",url:"api/gdpr/contacts/search"},delete:{method:"DELETE",url:"api/gdpr/contacts/delete"}})}])})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UFIvLi9TY3JpcHRzL21vZHVsZS5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkdEUFIvLi9TY3JpcHRzL2JsYWRlcy9jb250YWN0LWRldGFpbC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkdEUFIvLi9TY3JpcHRzL2JsYWRlcy9jb250YWN0LWxpc3QuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5HRFBSLy4vU2NyaXB0cy9ibGFkZXMvZ2Rwci1tYWluLmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuR0RQUi8uL1NjcmlwdHMvcmVzb3VyY2VzL2dkcHItYXBpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBtb2R1bGVOYW1lID0gJ3ZpcnRvQ29tbWVyY2UuZ2Rwcic7XG5cbmlmIChBcHBEZXBlbmRlbmNpZXMgIT09IHVuZGVmaW5lZCkge1xuICAgIEFwcERlcGVuZGVuY2llcy5wdXNoKG1vZHVsZU5hbWUpO1xufVxuXG5hbmd1bGFyLm1vZHVsZShtb2R1bGVOYW1lLCBbXSlcbiAgICAuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJyxcbiAgICAgICAgZnVuY3Rpb24gKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpIHtcbiAgICAgICAgICAgICRzdGF0ZVByb3ZpZGVyXG4gICAgICAgICAgICAgICAgLnN0YXRlKCd3b3Jrc3BhY2UuZ2RwcicsIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL0dEUFInLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJyQoUGxhdGZvcm0pL1NjcmlwdHMvY29tbW9uL3RlbXBsYXRlcy9ob21lLnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgJyRzY29wZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgZnVuY3Rpb24gKCRzY29wZSwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdnZHByTWFpbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFbnRpdHk6IHsgaWQ6IG51bGwgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuZ2Rwci5nZHByTWFpbkNvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkdEUFIpL1NjcmlwdHMvYmxhZGVzL2dkcHItbWFpbi50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ2xvc2luZ0Rpc2FibGVkOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIF0pXG5cbiAgICAucnVuKFsncGxhdGZvcm1XZWJBcHAubWFpbk1lbnVTZXJ2aWNlJywgJ3BsYXRmb3JtV2ViQXBwLndpZGdldFNlcnZpY2UnLCAnJHN0YXRlJyxcbiAgICAgICAgZnVuY3Rpb24gKG1haW5NZW51U2VydmljZSwgd2lkZ2V0U2VydmljZSwgJHN0YXRlKSB7XG4gICAgICAgICAgICB2YXIgbWVudUl0ZW0gPSB7XG4gICAgICAgICAgICAgICAgcGF0aDogJ2Jyb3dzZS9HRFBSJyxcbiAgICAgICAgICAgICAgICBpY29uOiAnZmFzIGZhLWtleScsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdHRFBSJyxcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogMTAwLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCkgeyAkc3RhdGUuZ28oJ3dvcmtzcGFjZS5nZHByJyk7IH0sXG4gICAgICAgICAgICAgICAgcGVybWlzc2lvbjogJ0dEUFI6YWNjZXNzJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG1haW5NZW51U2VydmljZS5hZGRNZW51SXRlbShtZW51SXRlbSk7XG4gICAgICAgIH1cbiAgICBdKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmdkcHInKVxuICAgIC5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLmdkcHIuY29udGFjdERldGFpbENvbnRyb2xsZXInLCBbJyRzY29wZScsICdwbGF0Zm9ybVdlYkFwcC5kaWFsb2dTZXJ2aWNlJywgJ3ZpcnRvQ29tbWVyY2UuZ2Rwci53ZWJBcGknLFxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCBkaWFsb2dTZXJ2aWNlLCBnZHByQXBpKSB7XG4gICAgICAgICAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG4gICAgICAgICAgICBibGFkZS5oZWFkSWNvbiA9ICdmYXMgZmEtYWRkcmVzcy1jYXJkJztcblxuICAgICAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZUJsYWRlKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5ID0gYW5ndWxhci5jb3B5KGRhdGEpO1xuICAgICAgICAgICAgICAgIGJsYWRlLm9yaWdFbnRpdHkgPSBkYXRhO1xuICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBkZWxldGVCbGFkZSgpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGlhbG9nID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogJ2NvbmZpcm1EZWxldGUnLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ2dkcHIuYmxhZGVzLmNvbnRhY3QtZGV0YWlsLmNvbW1hbmRzLnJlbW92ZS5tZXNzYWdlLnRpdGxlJyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ2dkcHIuYmxhZGVzLmNvbnRhY3QtZGV0YWlsLmNvbW1hbmRzLnJlbW92ZS5tZXNzYWdlLnRleHQnLFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKHJlbW92ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlbW92ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2RwckFwaS5kZWxldGUoeyBpZDogYmxhZGUuY3VycmVudEVudGl0eUlkIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmJsYWRlQ2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUucGFyZW50QmxhZGUucmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpYWxvZ1NlcnZpY2Uuc2hvd0NvbmZpcm1hdGlvbkRpYWxvZyhkaWFsb2cpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgYmxhZGUudG9vbGJhckNvbW1hbmRzID0gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2dkcHIuYmxhZGVzLmNvbnRhY3QtZGV0YWlsLmNvbW1hbmRzLnJlbW92ZS5sYWJlbCcsIGljb246ICdmYXMgZmEtZXJhc2VyJyxcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZGVsZXRlQmxhZGUsXG4gICAgICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBwZXJtaXNzaW9uOiAndmlydG9Db21tZXJjZS5nZHByOmRlbGV0ZSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICBpbml0aWFsaXplQmxhZGUoYmxhZGUuY3VycmVudEVudGl0eSk7XG4gICAgICAgIH1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmdkcHInKVxuICAgIC5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLmdkcHIuY29udGFjdExpc3RDb250cm9sbGVyJywgWyckc2NvcGUnLCAndmlydG9Db21tZXJjZS5nZHByLndlYkFwaScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZVV0aWxzJywgJ3BsYXRmb3JtV2ViQXBwLnVpR3JpZEhlbHBlcicsICdwbGF0Zm9ybVdlYkFwcC51aS1ncmlkLmV4dGVuc2lvbicsICdwbGF0Zm9ybVdlYkFwcC5hbmd1bGFyVG9Nb21lbnRGb3JtYXRDb252ZXJ0ZXInLFxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCBjb250YWN0cywgYmxhZGVVdGlscywgdWlHcmlkSGVscGVyLCBncmlkT3B0aW9uRXh0ZW5zaW9uLCBtb21lbnQpIHtcbiAgICAgICAgICAgICRzY29wZS51aUdyaWRDb25zdGFudHMgPSB1aUdyaWRIZWxwZXIudWlHcmlkQ29uc3RhbnRzO1xuXG4gICAgICAgICAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG4gICAgICAgICAgICBibGFkZS50aXRsZSA9ICdnZHByLmJsYWRlcy5jb250YWN0LWxpc3QudGl0bGUnO1xuICAgICAgICAgICAgYmxhZGUuaGVhZEljb24gPSAnZmFzIGZhLXVzZXItZnJpZW5kcyc7XG4gICAgICAgICAgICB2YXIgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSA9IGJsYWRlVXRpbHMuYmxhZGVOYXZpZ2F0aW9uU2VydmljZTtcblxuICAgICAgICAgICAgYmxhZGUucmVmcmVzaCA9IGZ1bmN0aW9uIChwYXJlbnRSZWZyZXNoKSB7XG4gICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgc2VhcmNoQ3JpdGVyaWEgPSBnZXRTZWFyY2hDcml0ZXJpYSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGJsYWRlLnNlYXJjaENyaXRlcmlhKSB7XG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHNlYXJjaENyaXRlcmlhLCBibGFkZS5zZWFyY2hDcml0ZXJpYSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29udGFjdHMuc2VhcmNoKHNlYXJjaENyaXRlcmlhLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGFnZVNldHRpbmdzLnRvdGFsSXRlbXMgPSBkYXRhLnRvdGFsQ291bnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEucmVzdWx0cykgJiYgZGF0YS5yZXN1bHRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8uZWFjaChkYXRhLnJlc3VsdHMsIGZ1bmN0aW9uIChjb250YWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0LnNlY3VyaXR5QWNjb3VudHNbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3QuZW1haWwgPSBjb250YWN0LnNlY3VyaXR5QWNjb3VudHNbMF0uZW1haWwgPz8gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0LmxvZ2luID0gY29udGFjdC5zZWN1cml0eUFjY291bnRzWzBdLnVzZXJOYW1lID8/ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdC5lbWFpbCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdC5sb2dpbiA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWN0LmJpcnRoRGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9udGhzID0gWydKYW51YXJ5JywgJ0ZlYnJ1YXJ5JywgJ01hcmNoJywgJ0FwcmlsJywgJ01heScsICdKdW5lJywgJ0p1bHknLCAnQXVndXN0JywgJ1NlcHRlbWJlcicsICdPY3RvYmVyJywgJ05vdmVtYmVyJywgJ0RlY2VtYmVyJ107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkID0gbmV3IERhdGUoY29udGFjdC5iaXJ0aERhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdC5iaXJ0aGRheSA9IG1vbnRoc1tkLmdldE1vbnRoKCldICsgJyAnICsgZC5nZXREYXRlKCkgKyAnLCAnICsgZC5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdC5iaXJ0aGRheSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhLnJlc3VsdHNbMF0ub3V0ZXJJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnJlc3VsdHNbMF0ub3V0ZXJJZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubGlzdEVudHJpZXMgPSBkYXRhLnJlc3VsdHMgPyBkYXRhLnJlc3VsdHMgOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAocGFyZW50UmVmcmVzaCAmJiBibGFkZS5wYXJlbnRSZWZyZXNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLnBhcmVudFJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUuc2VsZWN0Tm9kZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkTm9kZUlkID0gZGF0YS5pZDtcblxuICAgICAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICdjb250YWN0RGV0YWlsJyxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEVudGl0eUlkOiBkYXRhLmlkLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RW50aXR5OiBkYXRhLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogZGF0YS5mdWxsTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6ICdnZHByLmJsYWRlcy5jb250YWN0LWRldGFpbC5zdWJ0aXRsZScsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmdkcHIuY29udGFjdERldGFpbENvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ21vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkdEUFIpL1NjcmlwdHMvYmxhZGVzL2NvbnRhY3QtZGV0YWlsLnRwbC5odG1sJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGJsYWRlLnRvb2xiYXJDb21tYW5kcyA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMucmVmcmVzaFwiLCBpY29uOiAnZmEgZmEtcmVmcmVzaCcsXG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGJsYWRlLnJlZnJlc2gsXG4gICAgICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgLy8gdWktZ3JpZFxuICAgICAgICAgICAgJHNjb3BlLnNldEdyaWRPcHRpb25zID0gZnVuY3Rpb24gKGdyaWRJZCwgZ3JpZE9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ3JpZE9wdGlvbnMgPSBncmlkT3B0aW9ucztcbiAgICAgICAgICAgICAgICBncmlkT3B0aW9uRXh0ZW5zaW9uLnRyeUV4dGVuZEdyaWRPcHRpb25zKGdyaWRJZCwgZ3JpZE9wdGlvbnMpO1xuXG4gICAgICAgICAgICAgICAgZ3JpZE9wdGlvbnMub25SZWdpc3RlckFwaSA9IGZ1bmN0aW9uIChncmlkQXBpKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ncmlkQXBpID0gZ3JpZEFwaTtcbiAgICAgICAgICAgICAgICAgICAgZ3JpZEFwaS5jb3JlLm9uLnNvcnRDaGFuZ2VkKCRzY29wZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFibGFkZS5pc0xvYWRpbmcpIGJsYWRlLnJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGJsYWRlVXRpbHMuaW5pdGlhbGl6ZVBhZ2luYXRpb24oJHNjb3BlKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS5jbGVhcktleXdvcmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYmxhZGUuc2VhcmNoS2V5d29yZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgYmxhZGUucmVmcmVzaCgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0U2VhcmNoQ3JpdGVyaWEoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyVHlwZTogJ0NvbnRhY3QnLFxuICAgICAgICAgICAgICAgICAgICBtZW1iZXJJZDogYmxhZGUuY3VycmVudEVudGl0eS5pZCxcbiAgICAgICAgICAgICAgICAgICAga2V5d29yZDogYmxhZGUuc2VhcmNoS2V5d29yZCxcbiAgICAgICAgICAgICAgICAgICAgZGVlcFNlYXJjaDogYmxhZGUuc2VhcmNoS2V5d29yZCA/IHRydWUgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgc29ydDogdWlHcmlkSGVscGVyLmdldFNvcnRFeHByZXNzaW9uKCRzY29wZSksXG4gICAgICAgICAgICAgICAgICAgIHNraXA6ICgkc2NvcGUucGFnZVNldHRpbmdzLmN1cnJlbnRQYWdlIC0gMSkgKiAkc2NvcGUucGFnZVNldHRpbmdzLml0ZW1zUGVyUGFnZUNvdW50LFxuICAgICAgICAgICAgICAgICAgICB0YWtlOiAkc2NvcGUucGFnZVNldHRpbmdzLml0ZW1zUGVyUGFnZUNvdW50LFxuICAgICAgICAgICAgICAgICAgICBvYmplY3RUeXBlOiAnTWVtYmVyJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmdkcHInKVxuICAgIC5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLmdkcHIuZ2Rwck1haW5Db250cm9sbGVyJywgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuZGlhbG9nU2VydmljZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZVV0aWxzJywgJ3BsYXRmb3JtV2ViQXBwLnVpR3JpZEhlbHBlcicsICd2aXJ0b0NvbW1lcmNlLmN1c3RvbWVyTW9kdWxlLm1lbWJlclR5cGVzUmVzb2x2ZXJTZXJ2aWNlJywgJ3BsYXRmb3JtV2ViQXBwLnVpLWdyaWQuZXh0ZW5zaW9uJyxcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgZGlhbG9nU2VydmljZSwgYmxhZGVVdGlscywgdWlHcmlkSGVscGVyLCBtZW1iZXJUeXBlc1Jlc29sdmVyU2VydmljZSwgZ3JpZE9wdGlvbkV4dGVuc2lvbikge1xuICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkTm9kZUlkID0gbnVsbDtcblxuICAgICAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xuICAgICAgICAgICAgYmxhZGUudGl0bGUgPSAnZ2Rwci5ibGFkZXMubWFpbi10aXRsZSc7XG4gICAgICAgICAgICBibGFkZS5zdWJ0aXRsZSA9ICdnZHByLmJsYWRlcy5tYWluLXN1YnRpdGxlJztcbiAgICAgICAgICAgIGJsYWRlLmhlYWRJY29uID0gJ2ZhcyBmYS1rZXknO1xuICAgICAgICAgICAgdmFyIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UgPSBibGFkZVV0aWxzLmJsYWRlTmF2aWdhdGlvblNlcnZpY2U7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGluaXRpYWxpemVCbGFkZSgpIHtcbiAgICAgICAgICAgICAgICB2YXIgZW50aXRpZXMgPSBbe1xuICAgICAgICAgICAgICAgICAgICBpZDogMSxcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5TmFtZTogJ2N1c3RvbWVycycsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdDdXN0b21lcnMnLFxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnZmFzIGZhLXVzZXInXG4gICAgICAgICAgICAgICAgfV07XG4gICAgICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0aWVzID0gZW50aXRpZXM7XG4gICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYmxhZGUub3BlbkJsYWRlKGVudGl0aWVzWzBdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYmxhZGUub3BlbkJsYWRlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWROb2RlSWQgPSBkYXRhLmlkO1xuXG4gICAgICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogJ2NvbnRhY3RMaXN0JyxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEVudGl0eTogeyBpZDogbnVsbCB9LFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ2dkcHIuYmxhZGVzLmNvbnRhY3QtbGlzdC50aXRsZScsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmdkcHIuY29udGFjdExpc3RDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5HRFBSKS9TY3JpcHRzL2JsYWRlcy9jb250YWN0LWxpc3QudHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGluaXRpYWxpemVCbGFkZSgpO1xuICAgICAgICB9XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5nZHByJylcbiAgICAuZmFjdG9yeSgndmlydG9Db21tZXJjZS5nZHByLndlYkFwaScsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xuICAgICAgICByZXR1cm4gJHJlc291cmNlKCdhcGkvZ2RwcicsIHt9LCB7XG4gICAgICAgICAgICBzZWFyY2g6IHsgbWV0aG9kOiAnUE9TVCcsIHVybDogJ2FwaS9nZHByL2NvbnRhY3RzL3NlYXJjaCcgfSxcbiAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCB1cmw6ICdhcGkvZ2Rwci9jb250YWN0cy9kZWxldGUnIH1cbiAgICAgICAgfSk7XG4gICAgfV0pO1xuIl0sIm5hbWVzIjpbIm1vZHVsZU5hbWUiLCJ1bmRlZmluZWQiLCJBcHBEZXBlbmRlbmNpZXMiLCJwdXNoIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCJibGFkZU5hdmlnYXRpb25TZXJ2aWNlIiwic2hvd0JsYWRlIiwiaWQiLCJjdXJyZW50RW50aXR5IiwidGVtcGxhdGUiLCJpc0Nsb3NpbmdEaXNhYmxlZCIsInJ1biIsIm1haW5NZW51U2VydmljZSIsIndpZGdldFNlcnZpY2UiLCIkc3RhdGUiLCJtZW51SXRlbSIsInBhdGgiLCJpY29uIiwidGl0bGUiLCJwcmlvcml0eSIsImFjdGlvbiIsImdvIiwicGVybWlzc2lvbiIsImFkZE1lbnVJdGVtIiwiZGlhbG9nU2VydmljZSIsImdkcHJBcGkiLCJkYXRhIiwiYmxhZGUiLCJoZWFkSWNvbiIsInRvb2xiYXJDb21tYW5kcyIsIm5hbWUiLCJleGVjdXRlTWV0aG9kIiwiZGlhbG9nIiwibWVzc2FnZSIsImNhbGxiYWNrIiwicmVtb3ZlIiwiaXNMb2FkaW5nIiwiZGVsZXRlIiwiY3VycmVudEVudGl0eUlkIiwiYmxhZGVDbG9zZSIsInBhcmVudEJsYWRlIiwicmVmcmVzaCIsInNob3dDb25maXJtYXRpb25EaWFsb2ciLCJjYW5FeGVjdXRlTWV0aG9kIiwiY29weSIsIm9yaWdFbnRpdHkiLCJjb250YWN0cyIsImJsYWRlVXRpbHMiLCJ1aUdyaWRIZWxwZXIiLCJncmlkT3B0aW9uRXh0ZW5zaW9uIiwibW9tZW50IiwidWlHcmlkQ29uc3RhbnRzIiwicGFyZW50UmVmcmVzaCIsInNlYXJjaENyaXRlcmlhIiwibWVtYmVyVHlwZSIsIm1lbWJlcklkIiwia2V5d29yZCIsInNlYXJjaEtleXdvcmQiLCJkZWVwU2VhcmNoIiwic29ydCIsImdldFNvcnRFeHByZXNzaW9uIiwic2tpcCIsInBhZ2VTZXR0aW5ncyIsImN1cnJlbnRQYWdlIiwiaXRlbXNQZXJQYWdlQ291bnQiLCJ0YWtlIiwib2JqZWN0VHlwZSIsImV4dGVuZCIsInNlYXJjaCIsInRvdGFsSXRlbXMiLCJ0b3RhbENvdW50IiwiQXJyYXkiLCJpc0FycmF5IiwicmVzdWx0cyIsImxlbmd0aCIsIl8iLCJlYWNoIiwiY29udGFjdCIsInNlY3VyaXR5QWNjb3VudHMiLCJlbWFpbCIsImxvZ2luIiwidXNlck5hbWUiLCJiaXJ0aERhdGUiLCJtb250aHMiLCJkIiwiRGF0ZSIsImJpcnRoZGF5IiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiZ2V0RnVsbFllYXIiLCJvdXRlcklkIiwibGlzdEVudHJpZXMiLCJzZWxlY3ROb2RlIiwic2VsZWN0ZWROb2RlSWQiLCJuZXdCbGFkZSIsImZ1bGxOYW1lIiwic3VidGl0bGUiLCJzZXRHcmlkT3B0aW9ucyIsImdyaWRJZCIsImdyaWRPcHRpb25zIiwidHJ5RXh0ZW5kR3JpZE9wdGlvbnMiLCJvblJlZ2lzdGVyQXBpIiwiZ3JpZEFwaSIsImNvcmUiLCJvbiIsInNvcnRDaGFuZ2VkIiwiaW5pdGlhbGl6ZVBhZ2luYXRpb24iLCJjbGVhcktleXdvcmQiLCJtZW1iZXJUeXBlc1Jlc29sdmVyU2VydmljZSIsImVudGl0aWVzIiwib3BlbkJsYWRlIiwiZW50aXR5TmFtZSIsImN1cnJlbnRFbnRpdGllcyIsImZhY3RvcnkiLCIkcmVzb3VyY2UiLCJtZXRob2QiXSwic291cmNlUm9vdCI6IiJ9